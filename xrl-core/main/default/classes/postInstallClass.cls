global with sharing class postInstallClass implements InstallHandler {

    global void onInstall(InstallContext context) {
        if(context.previousVersion() == null) {
            //this is not a upgrade
            extRelListConfig__c extc = new extRelListConfig__c();
            extc.sObjApiName__c = 'Case';
            extc.relFieldApiName__c = 'AccountId';
            extc.isAdminConfig__c = true;
            extc.JSON__c = '[	{		"cmpName": "dataTable",		"colModel": [			{				"label": "Closed",				"fieldName": "IsClosed",				"css": "slds-item",				"type": "boolean",				"updateable": false,				"isNameField": false,				"isEditable": false,				"isFilterable": true,				"isSortable": true,				"index": 10,				"wrapClass": "slds-truncate",				"_filterCondition": "Column Filters"			},			{				"label": "Description",				"fieldName": "Description",				"css": "slds-item",				"type": "textarea",				"updateable": true,				"isNameField": false,				"isEditableRegular": true,				"isFilterable": true,				"isSortable": true,				"index": 22,				"wrapClass": "slds-truncate",				"_filterCondition": "Column Filters"			},			{				"label": "testCheckbox",				"fieldName": "TTNAMESPACE__testCheckbox__c",				"css": "slds-item",				"type": "boolean",				"updateable": true,				"isNameField": false,				"isEditableBool": true,				"isFilterable": true,				"isSortable": true,				"index": 53,				"wrapClass": "slds-truncate",				"_filterCondition": "Column Filters",				"isEditable": true			},			{				"label": "testDate",				"fieldName": "TTNAMESPACE__testDate__c",				"css": "slds-item",				"type": "date",				"updateable": true,				"isNameField": false,				"isEditableRegular": true,				"isFilterable": true,				"isSortable": true,				"index": 55,				"wrapClass": "slds-truncate",				"_filterCondition": "Column Filters"			},			{				"label": "Case Type",				"fieldName": "Type",				"css": "slds-item",				"type": "picklist",				"updateable": true,				"isNameField": false,				"options": [					{						"label": "Mechanical",						"value": "Mechanical"					},					{						"label": "Electrical",						"value": "Electrical"					},					{						"label": "Electronic",						"value": "Electronic"					},					{						"label": "Structural",						"value": "Structural"					},					{						"label": "Other",						"value": "Other"					}				],				"isEditableAsPicklist": true,				"isFilterable": true,				"isSortable": true,				"index": 9,				"wrapClass": "slds-truncate",				"_filterCondition": "Column Filters",				"isEditable": true,				"_filterStr": "",				"_filterStrTo": "",				"_filterVariant": ""			},			{				"label": "Full Name",				"fieldName": "Contact.Name",				"css": "slds-item",				"type": "string",				"updateable": false,				"isNameField": true,				"referenceTo": "Contact",				"isEditableRegular": true,				"isFilterable": true,				"isSortable": true,				"index": 22,				"wrapClass": "slds-truncate",				"_filterCondition": "Column Filters",				"isEditable": true			}		],		"actions": [			{				"actionId": "std:reset_filters",				"actionLabel": "Reset Filters",				"actionTip": "Reset Filters",				"actionCallBack": "",				"actionIsHidden": false,				"actionIconName": "utility:filterList",				"isActionStandard": true,				"actionOrder": 5			},			{				"actionId": "std:delete",				"actionLabel": "Delete",				"actionTip": "Delete",				"actionCallBack": "",				"actionIsHidden": false,				"actionIconName": "utility:delete",				"isActionStandard": true,				"actionOrder": 10			},			{				"actionId": "std:export",				"actionLabel": "Export",				"actionTip": "Export",				"actionCallBack": "",				"actionIsHidden": false,				"actionIconName": "utility:download",				"isActionStandard": true,				"actionOrder": 20			},			{				"actionId": "std:new",				"actionLabel": "New",				"actionTip": "New",				"actionCallBack": "",				"actionIsHidden": false,				"actionIconName": "utility:new",				"isActionStandard": true,				"actionOrder": 30			},			{				"actionId": "std:refresh",				"actionLabel": "Refresh",				"actionTip": "Refresh List View",				"actionCallBack": "",				"actionIsHidden": false,				"actionIconName": "utility:refresh",				"isActionStandard": true,				"actionOrder": 40			},			{				"actionId": "std:request_open",				"actionLabel": "Request a feature",				"actionTip": "Request a Feature",				"actionCallBack": "",				"actionIsHidden": false,				"actionIconName": "utility:email",				"isActionStandard": true,				"actionOrder": 50			},			{				"actionId": "std:expand_view",				"actionLabel": "Expand View",				"actionTip": "Expand View",				"actionCallBack": "",				"actionIsHidden": false,				"actionIconName": "utility:expand",				"isActionStandard": true,				"actionOrder": 60			}		],		"rowChecked": false,		"pager": {			"pagerTop": true,			"pagerBottom": true,			"curPage": 1,			"pageSize": "20",			"pageSizeOptions": [				{					"label": "5",					"value": "5"				},				{					"label": "20",					"value": "20"				},				{					"label": "50",					"value": "50"				},				{					"label": "100",					"value": "100"				},				{					"label": "200",					"value": "200"				}			],			"numPages": 19		},		"addCondition": "",		"conditionMap": [],		"conditionOrdering": "",		"orderBy": "",		"showStandardEdit": true,		"isShowCheckBoxes": true	}]';
            extc.listViewName__c = 'view1';
            extc.uniqKey__c = 'Case:AccountId:true:view1';
            insert extc; //setting config on Case object
        }
    }
}